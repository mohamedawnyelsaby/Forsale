<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forsale AI - Global Smart Marketplace</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Header -->
    <header class="header">
        <div class="logo">
            <span class="ai-badge">AI</span>
            <i class="fa-solid fa-store"></i>
            <span>Forsale</span>
        </div>
        <div class="header-actions">
            <button class="icon-btn" onclick="openLanguageModal()" title="Change Language">
                <i class="fa-solid fa-language"></i>
            </button>
            <button class="icon-btn" onclick="openCart()" title="Cart">
                <i class="fa-solid fa-cart-shopping"></i>
                <span class="badge" id="cart-count">0</span>
            </button>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        
        <!-- Search Bar -->
        <div class="search-box">
            <i class="fa-solid fa-magnifying-glass search-icon"></i>
            <input type="text" 
                   id="search-input" 
                   data-i18n-placeholder="search_placeholder"
                   placeholder="Search with AI or describe your dream product...">
            <button class="visual-search-btn" onclick="openVisualSearch()" title="Search by Image">
                <i class="fa-solid fa-camera"></i>
            </button>
        </div>

        <!-- Categories -->
        <div class="section-header">
            <h2 data-i18n="nav_categories">Categories</h2>
        </div>
        <div class="cats-scroll" id="categories-scroll"></div>

        <!-- Sort & Filter -->
        <div class="controls-bar">
            <select id="sort-select" onchange="handleSortChange(this.value)">
                <option value="relevance" data-i18n="sort_relevance">Most Relevant</option>
                <option value="newest" data-i18n="sort_newest">Newest First</option>
                <option value="price_low" data-i18n="sort_price_low">Price: Low to High</option>
                <option value="price_high" data-i18n="sort_price_high">Price: High to Low</option>
                <option value="popular" data-i18n="sort_popular">Most Popular</option>
                <option value="rating" data-i18n="sort_rating">Highest Rated</option>
            </select>
            
            <button class="filter-toggle-btn" onclick="filterUI.toggle()">
                <i class="fa-solid fa-filter"></i>
                <span data-i18n="filter_show">Filters</span>
                <span class="filter-badge" id="filter-count" style="display: none;">0</span>
            </button>
        </div>

        <!-- Filter Panel -->
        <div id="filter-panel"></div>

        <!-- Products Grid -->
        <div class="products-grid" id="products-grid"></div>

        <!-- Loading Indicator -->
        <div class="loading-indicator" id="loading-indicator" style="display: none;">
            <i class="fa-solid fa-spinner fa-spin"></i>
            <p data-i18n="common_loading">Loading...</p>
        </div>

        <!-- Pagination -->
        <div class="pagination-container" id="pagination-container"></div>

    </div>

    <!-- Footer Navigation -->
    <nav class="footer-nav">
        <div class="nav-item active" onclick="navigateTo('home')">
            <i class="fa-solid fa-house"></i>
            <span data-i18n="nav_home">Home</span>
        </div>
        <div class="nav-item" onclick="navigateTo('categories')">
            <i class="fa-solid fa-grid"></i>
            <span data-i18n="nav_categories">Categories</span>
        </div>
        <div class="nav-item" onclick="navigateTo('ai')">
            <i class="fa-solid fa-robot"></i>
            <span data-i18n="nav_ai_chat">AI Assistant</span>
        </div>
        <div class="nav-item" onclick="openCart()">
            <i class="fa-solid fa-cart-shopping"></i>
            <span data-i18n="nav_cart">Cart</span>
        </div>
        <div class="nav-item" onclick="navigateTo('profile')">
            <i class="fa-solid fa-user"></i>
            <span data-i18n="nav_profile">Profile</span>
        </div>
    </nav>

    <!-- Language Modal -->
    <div class="modal" id="languageModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fa-solid fa-language"></i> Select Language</h2>
                <button class="close-btn" onclick="closeLanguageModal()">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <div class="language-list" id="language-list"></div>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div class="modal" id="product-detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="detail-title"></h2>
                <button class="close-btn" onclick="closeProductDetailModal()">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <img id="detail-img" class="detail-img" src="" alt="">
            <div class="detail-info">
                <div class="detail-price" id="detail-price"></div>
                <div class="detail-desc" id="detail-desc"></div>
            </div>
            <div class="action-btns">
                <button class="btn btn-primary" onclick="addToCartFromDetail()">
                    <i class="fa-solid fa-cart-plus"></i>
                    <span data-i18n="detail_add_cart">Add to Cart</span>
                </button>
                <button class="btn btn-success" onclick="buyNow()">
                    <i class="fa-solid fa-bolt"></i>
                    <span data-i18n="detail_buy_now">Buy Now</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fa-solid fa-cart-shopping"></i> <span data-i18n="nav_cart">Cart</span></h2>
                <button class="close-btn" onclick="closeCart()">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <div class="cart-items" id="cart-items"></div>
            <div class="cart-summary" id="cart-summary"></div>
        </div>
    </div>

    <!-- Cart Notification -->
    <div class="cart-notification" id="cart-notification">
        <i class="fa-solid fa-check-circle"></i>
        <span>Added to cart!</span>
    </div>

    <!-- Scripts -->
    <script src="js/i18n.js"></script>
    <script src="js/filters.js"></script>
    <script src="script.js"></script>

</body>
</html>
